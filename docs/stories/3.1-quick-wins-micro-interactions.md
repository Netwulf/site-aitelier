# Story 3.1: Quick Wins - Micro-interactions Essenciais

**Story ID:** AITELIER-3.1
**Epic:** 3.0 - UX Polish Framer/Apple
**Priority:** P0
**Estimate:** 3-4 hours
**Status:** Ready for Development

---

## User Story

**As a** visitor to AI.TELIER
**I want** smooth, polished interactions throughout the site
**So that** I perceive it as a premium, high-quality studio

---

## Acceptance Criteria

### AC1: Nav Link Hover Underline
- [ ] Links in navigation have animated underline on hover
- [ ] Underline grows from left to right (0 → 100% width)
- [ ] Duration: 300ms with ease-out
- [ ] Color: `tech-olive` (#8dc75e)
- [ ] Works on both transparent and solid nav states

### AC2: Smooth Scroll Global
- [ ] `scroll-behavior: smooth` applied to `html`
- [ ] Anchor links scroll smoothly
- [ ] Duration feels natural (not too slow)
- [ ] Respects `prefers-reduced-motion`

### AC3: Backdrop Blur Enhancement
- [ ] Nav blur increased from `backdrop-blur-sm` to `backdrop-blur-xl`
- [ ] Added saturation boost: `backdrop-saturate-150`
- [ ] Border opacity adjusted for depth
- [ ] Performance tested on mobile

### AC4: Card Stagger Reveal
- [ ] Triptych cards (Escola/Studio/Galeria) animate on page load
- [ ] Stagger delay: 100ms between each card
- [ ] Animation: fade-up (opacity 0→1, translateY 20px→0)
- [ ] Duration: 500ms per card
- [ ] Uses Framer Motion `staggerChildren`

### AC5: Basic Scroll-Triggered Sections
- [ ] Major sections fade in when entering viewport
- [ ] Trigger point: 20% visible
- [ ] Animation: opacity 0→1, translateY 30px→0
- [ ] Duration: 600ms
- [ ] Only triggers once (no re-animation on scroll up)

---

## Technical Implementation

### Task 1: Nav Link Hover Underline

**File:** `src/components/NavigationV2.tsx`

```tsx
// Current
<Link
  className="text-sm text-text-secondary hover:text-ancestral-white
            transition-colors font-mono-v2"
>

// Updated
<Link
  className="relative text-sm text-text-secondary hover:text-ancestral-white
            transition-colors font-mono-v2 group"
>
  {item.label}
  <span className="absolute -bottom-1 left-0 w-0 h-px bg-tech-olive
                  group-hover:w-full transition-all duration-300 ease-out" />
</Link>
```

---

### Task 2: Smooth Scroll Global

**File:** `src/index.css`

```css
/* Add to @layer base */
html {
  scroll-behavior: smooth;
}

@media (prefers-reduced-motion: reduce) {
  html {
    scroll-behavior: auto;
  }
}
```

---

### Task 3: Backdrop Blur Enhancement

**File:** `src/components/NavigationV2.tsx`

```tsx
// Current
scrolled
  ? "bg-ancestral-black/90 backdrop-blur-sm border-b border-text-muted/10"

// Updated
scrolled
  ? "bg-ancestral-black/80 backdrop-blur-xl backdrop-saturate-150 border-b border-text-muted/20"
```

---

### Task 4: Card Stagger Reveal

**File:** `src/components/Triptych.tsx`

```tsx
import { motion } from "framer-motion";
import { useReducedMotion } from "@/hooks/useReducedMotion";

const containerVariants = {
  hidden: { opacity: 0 },
  visible: {
    opacity: 1,
    transition: {
      staggerChildren: 0.1,
      delayChildren: 0.2,
    },
  },
};

const cardVariants = {
  hidden: { opacity: 0, y: 20 },
  visible: {
    opacity: 1,
    y: 0,
    transition: {
      duration: 0.5,
      ease: [0.4, 0, 0.2, 1],
    },
  },
};

export const Triptych = ({ items }: TriptychProps) => {
  const prefersReducedMotion = useReducedMotion();

  return (
    <motion.div
      className="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6"
      variants={prefersReducedMotion ? {} : containerVariants}
      initial="hidden"
      animate="visible"
    >
      {items.map((item, index) => (
        <motion.div
          key={item.title}
          variants={prefersReducedMotion ? {} : cardVariants}
        >
          <Link ...>
            {/* existing card content */}
          </Link>
        </motion.div>
      ))}
    </motion.div>
  );
};
```

---

### Task 5: Scroll-Triggered Section Reveal

**File:** `src/hooks/useScrollReveal.ts` (NEW)

```tsx
import { useEffect, useRef, useState } from "react";
import { useReducedMotion } from "./useReducedMotion";

export const useScrollReveal = (threshold = 0.2) => {
  const ref = useRef<HTMLDivElement>(null);
  const [isVisible, setIsVisible] = useState(false);
  const prefersReducedMotion = useReducedMotion();

  useEffect(() => {
    if (prefersReducedMotion) {
      setIsVisible(true);
      return;
    }

    const observer = new IntersectionObserver(
      ([entry]) => {
        if (entry.isIntersecting) {
          setIsVisible(true);
          observer.disconnect();
        }
      },
      { threshold }
    );

    if (ref.current) {
      observer.observe(ref.current);
    }

    return () => observer.disconnect();
  }, [threshold, prefersReducedMotion]);

  return { ref, isVisible };
};
```

**Usage in sections:**

```tsx
import { useScrollReveal } from "@/hooks/useScrollReveal";
import { motion } from "framer-motion";

const SomeSection = () => {
  const { ref, isVisible } = useScrollReveal();

  return (
    <motion.section
      ref={ref}
      initial={{ opacity: 0, y: 30 }}
      animate={isVisible ? { opacity: 1, y: 0 } : {}}
      transition={{ duration: 0.6, ease: [0.4, 0, 0.2, 1] }}
    >
      {/* content */}
    </motion.section>
  );
};
```

---

## Files to Modify

| File | Change |
|------|--------|
| `src/index.css` | Add smooth scroll |
| `src/components/NavigationV2.tsx` | Hover underline, backdrop blur |
| `src/components/Triptych.tsx` | Stagger animation |
| `src/hooks/useScrollReveal.ts` | NEW - Scroll trigger hook |
| `src/pages/Index.tsx` | Apply scroll reveal to sections |

---

## Testing Checklist

- [ ] Nav underline animates smoothly on hover
- [ ] Smooth scroll works for all anchor links
- [ ] Backdrop blur visible and performant
- [ ] Cards stagger on initial page load
- [ ] Sections reveal when scrolling down
- [ ] All animations respect `prefers-reduced-motion`
- [ ] Mobile performance acceptable (no jank)
- [ ] Lighthouse score maintained > 85

---

## Definition of Done

- [ ] All 5 acceptance criteria met
- [ ] Code reviewed
- [ ] Tested on Chrome, Safari, Firefox
- [ ] Tested on mobile (iOS Safari, Chrome Android)
- [ ] No console errors
- [ ] Performance metrics stable

---

## Notes

- Start with CSS-only solutions where possible
- Test backdrop-filter performance on older devices
- The scroll reveal hook will be reused in Story 3.3

---

**Estimate breakdown:**
- Task 1 (Nav underline): 30 min
- Task 2 (Smooth scroll): 15 min
- Task 3 (Backdrop blur): 20 min
- Task 4 (Stagger cards): 45 min
- Task 5 (Scroll reveal): 1.5 hours
- Testing & polish: 1 hour

**Total: ~4 hours**
