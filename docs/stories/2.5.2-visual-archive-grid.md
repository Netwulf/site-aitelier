# Story 2.5.2 â€” Visual Archive Grid

**Epic:** 5 - Archive
**Priority:** P1
**Estimate:** 3-4 hours
**Status:** Ready
**Depends on:** 2.5.1

---

## User Story

As a visitor, I want to browse through a dense grid of visual artifacts without captions or explanations, experiencing pure visual immersion.

---

## Acceptance Criteria

- [ ] Masonry or justified grid layout
- [ ] 20-30 images displayed
- [ ] No captions or text
- [ ] Cinematic image treatment (grain, contrast)
- [ ] Click to expand/lightbox
- [ ] Responsive grid

---

## Visual Archive Content

Categories (no labels shown):
- Storyboards
- Rotoscopy frames
- Street photography
- Film frames
- Human gestures
- Previous works (Guarani, dance)
- Creation processes
- AI screenshots
- Sketches
- References

---

## Implementation

```tsx
// src/components/VisualArchiveGrid.tsx

import { useState } from 'react';
import { motion, AnimatePresence } from 'framer-motion';

// Image data - replace with actual paths
const archiveImages = [
  { src: '/assets/archive/storyboard-1.jpg', aspect: 'landscape' },
  { src: '/assets/archive/rotoscopy-1.jpg', aspect: 'portrait' },
  { src: '/assets/archive/street-1.jpg', aspect: 'landscape' },
  { src: '/assets/archive/film-frame-1.jpg', aspect: 'cinema' },
  { src: '/assets/archive/gesture-1.jpg', aspect: 'square' },
  { src: '/assets/archive/guarani-1.jpg', aspect: 'landscape' },
  { src: '/assets/archive/process-1.jpg', aspect: 'portrait' },
  { src: '/assets/archive/ai-screenshot-1.jpg', aspect: 'landscape' },
  { src: '/assets/archive/sketch-1.jpg', aspect: 'square' },
  { src: '/assets/archive/reference-1.jpg', aspect: 'portrait' },
  // ... more images
];

export const VisualArchiveGrid = () => {
  const [selectedImage, setSelectedImage] = useState<string | null>(null);

  return (
    <>
      {/* Grid */}
      <div className="columns-2 md:columns-3 lg:columns-4 gap-2 space-y-2">
        {archiveImages.map((image, index) => (
          <motion.div
            key={image.src}
            initial={{ opacity: 0 }}
            animate={{ opacity: 1 }}
            transition={{ delay: index * 0.05 }}
            className="break-inside-avoid group cursor-pointer"
            onClick={() => setSelectedImage(image.src)}
          >
            <div className="relative overflow-hidden">
              <img
                src={image.src}
                alt=""
                loading="lazy"
                className="w-full filter contrast-110 saturate-90
                          group-hover:scale-105 transition-transform duration-500"
              />
              {/* Grain overlay */}
              <div
                className="absolute inset-0 opacity-[0.03] pointer-events-none mix-blend-overlay"
                style={{
                  backgroundImage: `url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E")`
                }}
              />
              {/* Hover overlay */}
              <div className="absolute inset-0 bg-brutal-black/0
                            group-hover:bg-brutal-black/20 transition-colors" />
            </div>
          </motion.div>
        ))}
      </div>

      {/* Lightbox */}
      <AnimatePresence>
        {selectedImage && (
          <Lightbox
            src={selectedImage}
            onClose={() => setSelectedImage(null)}
          />
        )}
      </AnimatePresence>
    </>
  );
};

const Lightbox = ({
  src,
  onClose,
}: {
  src: string;
  onClose: () => void;
}) => {
  return (
    <motion.div
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      exit={{ opacity: 0 }}
      onClick={onClose}
      className="fixed inset-0 z-50 bg-brutal-black/95
                 flex items-center justify-center p-4 cursor-zoom-out"
    >
      <motion.img
        initial={{ scale: 0.9 }}
        animate={{ scale: 1 }}
        exit={{ scale: 0.9 }}
        src={src}
        alt=""
        className="max-w-full max-h-[90vh] object-contain"
      />

      {/* Close button */}
      <button
        onClick={onClose}
        className="absolute top-6 right-6 text-brutal-white
                   font-mono text-sm hover:text-ancestral-amber
                   transition-colors"
      >
        [Fechar]
      </button>
    </motion.div>
  );
};
```

---

## Alternative: CSS Grid Masonry (if columns don't work well)

```tsx
// Using CSS Grid with auto-rows
<div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4
               auto-rows-[200px] gap-2">
  {archiveImages.map((image, index) => (
    <div
      key={image.src}
      className={cn(
        "overflow-hidden",
        image.aspect === 'portrait' && "row-span-2",
        image.aspect === 'cinema' && "col-span-2",
      )}
    >
      <img ... />
    </div>
  ))}
</div>
```

---

## Image Treatment CSS

```css
/* In index.css */
.archive-image {
  filter: contrast(1.1) saturate(0.9);
  transition: transform 0.5s ease;
}

.archive-image:hover {
  transform: scale(1.05);
}
```

---

## Files to Create

- [ ] `src/components/VisualArchiveGrid.tsx`

---

## Assets Needed

Need 20-30 images in `/assets/archive/`:
- Various aspect ratios
- Cinematic treatment applied (or apply via CSS)
- WebP format preferred
- Multiple resolutions for srcset

---

## Testing

- [ ] All images load
- [ ] Masonry layout works
- [ ] Lightbox opens on click
- [ ] Lightbox closes on click/escape
- [ ] Responsive grid
- [ ] Lazy loading works
- [ ] No layout shift

---

## Notes

- NO captions - pure visual
- Click opens lightbox, not detail page
- Images should feel curated, not random
- Consider: keyboard navigation in lightbox
